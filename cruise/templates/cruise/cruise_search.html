{% load i18n %}

<form method="get" action="{% url 'tours:tours_search' %}" class="space-y-4">
  <!-- 出航地區 -->
  <div class="relative w-full">
    <label class="block mb-1 font-semibold">{% trans "出航地區" %}</label>
    <input
      type="text"
      name="region"
      id="regionInput"
      placeholder="{% trans '選擇出航地區' %}"
      readonly
      class="w-full px-4 py-2 border rounded-lg bg-white/70 backdrop-blur-md cursor-pointer"
      onclick="toggleDropdown('regionMenu')"
    />

    <div
      id="regionMenu"
      class="hidden absolute top-20 left-0 w-full bg-white/90 backdrop-blur-xl shadow-lg rounded-xl border p-4 z-50"
    >
      <div class="grid grid-cols-2 gap-4">
        <ul class="space-y-1">
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '美國' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "美國" %}
          </li>
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '加拿大' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "加拿大" %}
          </li>
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '亞洲' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "亞洲" %}
          </li>
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '歐洲' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "歐洲" %}
          </li>
        </ul>
        <ul class="space-y-1">
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '南極/北極' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "南極/北極" %}
          </li>
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '澳紐' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "澳紐" %}
          </li>
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '中南美洲' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "中南美洲" %}
          </li>
          <li
            class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
            data-value="{% trans '非洲' %}"
            onclick="selectRegion(this.dataset.value)"
          >
            {% trans "非洲" %}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- 出發港口 -->
  <div class="relative w-full">
    <label class="block mb-1 font-semibold">{% trans "出發國家/城市" %}</label>
    <input
      type="text"
      name="embark_port"
      id="cityInput"
      placeholder="{% trans '選擇出發城市' %}"
      readonly
      class="w-full px-4 py-2 border rounded-lg bg-white/70 backdrop-blur-md cursor-pointer"
      onclick="toggleDropdown('cityMenu')"
    />

    <div
      id="cityMenu"
      class="hidden absolute top-20 left-0 w-full max-h-64 overflow-y-auto bg-white/90 backdrop-blur-xl shadow-lg rounded-xl border p-4 z-50"
    >
      <h4 class="font-semibold text-gray-600 mb-2">
        {% trans "熱門出發城市" %}
      </h4>
      <ul class="grid grid-cols-2 gap-2">
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '紐約' %}"
          onclick="selectCity(this.dataset.value)"
        >
          {% trans "紐約" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '邁阿密' %}"
          onclick="selectCity(this.dataset.value)"
        >
          {% trans "邁阿密" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '波士頓' %}"
          onclick="selectCity(this.dataset.value)"
        >
          {% trans "波士頓" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '洛杉磯' %}"
          onclick="selectCity(this.dataset.value)"
        >
          {% trans "洛杉磯" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '坎昆' %}"
          onclick="selectCity(this.dataset.value)"
        >
          {% trans "坎昆" %}
        </li>
      </ul>
    </div>
  </div>

  <!-- 郵輪公司 -->
  <div class="relative w-full">
    <label class="block mb-1 font-semibold">{% trans "郵輪公司" %}</label>
    <input
      type="text"
      name="cruise_line"
      id="lineInput"
      placeholder="{% trans '選擇郵輪公司' %}"
      readonly
      class="w-full px-4 py-2 border rounded-lg bg-white/70 backdrop-blur-md cursor-pointer"
      onclick="toggleDropdown('lineMenu')"
    />

    <div
      id="lineMenu"
      class="hidden absolute top-20 left-0 w-full max-h-64 overflow-y-auto bg-white/90 backdrop-blur-xl shadow-lg rounded-xl border p-4 z-50"
    >
      <ul class="space-y-1">
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '皇家加勒比' %}"
          onclick="selectLine(this.dataset.value)"
        >
          {% trans "皇家加勒比" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '公主郵輪' %}"
          onclick="selectLine(this.dataset.value)"
        >
          {% trans "公主郵輪" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '地中海郵輪 MSC' %}"
          onclick="selectLine(this.dataset.value)"
        >
          {% trans "地中海郵輪 MSC" %}
        </li>
        <li
          class="cursor-pointer hover:bg-blue-100 rounded px-2 py-1"
          data-value="{% trans '歌詩達郵輪' %}"
          onclick="selectLine(this.dataset.value)"
        >
          {% trans "歌詩達郵輪" %}
        </li>
      </ul>
    </div>
  </div>

  <!-- 出航日期 -->
  <div class="relative w-full">
    <label class="block mb-1 font-semibold">{% trans "出航日期" %}</label>
    <input
      type="month"
      name="depart_month"
      class="w-full px-4 py-2 border rounded-lg bg-white/70 backdrop-blur-md"
    />
  </div>

  <!-- 特殊需求 -->
  <div class="flex items-center space-x-4">
    <label
      ><input type="checkbox" name="chinese_guide" /> {% trans "中文導遊"
      %}</label
    >
    <label><input type="checkbox" name="promotion" /> {% trans "特價" %}</label>
  </div>

  <!-- 提交 -->
  <div class="text-center">
    <button
      type="submit"
      class="px-6 py-2 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700"
    >
      {% trans "搜尋" %}
    </button>
  </div>
</form>
